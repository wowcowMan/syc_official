{"version":3,"file":"js/412.85800bc1.js","mappings":"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","sources":["webpack://syc/./src/views/Profile.vue","webpack://syc/./src/views/Profile.vue?24e8"],"sourcesContent":["<template>\n  <div class=\"container-fluid\">\n    <div class=\"container profile-wrap\">\n      <form v-for=\"(item, key) in profiles\" :key=\"key\" class=\"mb-5\" @submit.prevent=\"updateProfile(item.id)\">\n        <h3>{{ item.title }}</h3>\n        <div class=\"mb-3\" v-if=\"item.description === 'intro'\">\n          <h5 for=\"name\" class=\"form-label\">名稱：</h5>\n          <label v-if=\"tempProfile.title !== item.title\">{{ item.author }}</label>\n          <input v-model=\"tempProfile.author\" type=\"text\" class=\"form-control\" id=\"name\"\n            v-if=\"tempProfile.title === item.title\">\n        </div>\n        <div class=\"mb-3\">\n          <h5 for=\"content\" class=\"form-label\">內容：</h5>\n          <p v-if=\"tempProfile.title !== item.title\">{{ item.content }}</p>\n          <textarea v-model=\"tempProfile.content\" type=\"text\" class=\"form-control\" id=\"content\"\n            v-if=\"tempProfile.title === item.title\" style=\"height:100px;\"></textarea>\n        </div>\n        <div class=\"row\"><button type=\"button\" class=\"btn btn-primary col mb-3\" @click.prevent=\"editfile(item)\">\n            edit\n          </button></div>\n        <div class=\"row\" v-if=\"tempProfile.title === item.title\">\n          <button type=\"submit\" class=\"btn btn-success col\">Submit</button>\n          <button type=\"button\" class=\"btn btn-danger col\" @click.prevent=\"tempProfile = {}\">cancel</button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      profiles: [],\n      tempProfile: {},\n      update: {}\n    }\n  },\n  methods: {\n    getProfiles() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/articles`\n      this.$http.get(api).then((res) => {\n        // console.log(res.data)\n        this.profiles = res.data.articles.reverse()\n        this.profiles.forEach(item => {\n          this.getArticle(item)\n        })\n      })\n    },\n    getArticle(item) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/article/${item.id}`\n      this.$http.get(api).then((res) => {\n        // console.log('aticle:', res.data)\n        item.content = res.data.article.content\n      })\n    },\n    // addProfile() {\n    //   const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/article`\n    //   this.$http.post(api, { data: this.tempProfile })\n    //     .then((res) => {\n    //       console.log(res.data)\n    //     })\n    // },\n    editfile(item) {\n      this.tempProfile = { ...item }\n    },\n    updateProfile(id) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/article/${id}`\n      // console.log(api)\n      this.$http.put(api, { data: this.tempProfile })\n        .then((res) => {\n          // console.log(res.data)\n          if (res.data.success) {\n            this.tempProfile = {}\n            // console.log('submit')\n            this.getProfiles()\n          }\n        })\n    }\n  },\n  created() {\n    this.getProfiles()\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"../assets/all.scss\";\n\n.container-fluid {\n  // background: #000;\n  background: #000;\n  padding: 50px;\n}\n\n.profile-wrap {\n  width: 50%;\n  color: #fff;\n  // color: #000;\n}\n\n@media screen and (max-width:820px) {\n  .profile-wrap {\n    width: auto;\n    color: #fff;\n    // color: #000;\n  }\n}\n\n.profile-wrap input,\n.profile-wrap textarea {\n  border: 1px solid #fff;\n}\n</style>\n","import { render } from \"./Profile.vue?vue&type=template&id=5ee7e8de&scoped=true\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\n\nimport \"./Profile.vue?vue&type=style&index=0&id=5ee7e8de&scoped=true&lang=scss\"\n\nimport exportComponent from \"/Users/pengxiang/Desktop/syc_project/syc/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5ee7e8de\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","_createElementBlock","_hoisted_1","_hoisted_2","_Fragment","_renderList","$data","profiles","item","key","onSubmit","_withModifiers","$event","$options","updateProfile","id","_toDisplayString","title","description","_hoisted_4","_hoisted_5","tempProfile","_hoisted_6","author","_hoisted_7","_hoisted_8","_hoisted_9","content","style","_hoisted_10","onClick","editfile","_hoisted_11","_hoisted_12","_hoisted_13","_cache","data","update","methods","getProfiles","api","this","$http","get","then","res","articles","reverse","forEach","getArticle","article","put","success","created","__exports__","render"],"sourceRoot":""}