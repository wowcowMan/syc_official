"use strict";(self["webpackChunksyc"]=self["webpackChunksyc"]||[]).push([[966],{4966:function(t,e,i){i.r(e),i.d(e,{default:function(){return D}});var o=i(3396),l=i(9242),n=i(7139);const s=t=>((0,o.dD)("data-v-417b5142"),t=t(),(0,o.Cn)(),t),a={class:"container-fluid"},r={class:"container profile-wrap"},c=["onSubmit"],p={key:0,class:"mb-3"},u=s((()=>(0,o._)("h5",{for:"name",class:"form-label"},"名稱：",-1))),f={key:0},d={class:"mb-3"},h=s((()=>(0,o._)("h5",{for:"content",class:"form-label"},"內容：",-1))),m={key:0},w={class:"row"},b=["onClick"],k={key:1,class:"row"},P=s((()=>(0,o._)("button",{type:"submit",class:"btn btn-success col"},"Submit",-1)));function g(t,e,i,s,g,v){return(0,o.wg)(),(0,o.iD)("div",a,[(0,o._)("div",r,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(g.profiles,((t,i)=>((0,o.wg)(),(0,o.iD)("form",{key:i,class:"mb-5",onSubmit:(0,l.iM)((e=>v.updateProfile(t.id)),["prevent"])},[(0,o._)("h3",null,(0,n.zw)(t.title),1),"intro"===t.description?((0,o.wg)(),(0,o.iD)("div",p,[u,g.tempProfile.title!==t.title?((0,o.wg)(),(0,o.iD)("label",f,(0,n.zw)(t.author),1)):(0,o.kq)("",!0),g.tempProfile.title===t.title?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:1,"onUpdate:modelValue":e[0]||(e[0]=t=>g.tempProfile.author=t),type:"text",class:"form-control",id:"name"},null,512)),[[l.nr,g.tempProfile.author]]):(0,o.kq)("",!0)])):(0,o.kq)("",!0),(0,o._)("div",d,[h,g.tempProfile.title!==t.title?((0,o.wg)(),(0,o.iD)("p",m,(0,n.zw)(t.content),1)):(0,o.kq)("",!0),g.tempProfile.title===t.title?(0,o.wy)(((0,o.wg)(),(0,o.iD)("textarea",{key:1,"onUpdate:modelValue":e[1]||(e[1]=t=>g.tempProfile.content=t),type:"text",class:"form-control",id:"content",style:{height:"100px"}},null,512)),[[l.nr,g.tempProfile.content]]):(0,o.kq)("",!0)]),(0,o._)("div",w,[(0,o._)("button",{type:"button",class:"btn btn-primary col mb-3",onClick:(0,l.iM)((e=>v.editfile(t)),["prevent"])}," edit ",8,b)]),g.tempProfile.title===t.title?((0,o.wg)(),(0,o.iD)("div",k,[P,(0,o._)("button",{type:"button",class:"btn btn-danger col",onClick:e[2]||(e[2]=(0,l.iM)((t=>g.tempProfile={}),["prevent"]))},"cancel")])):(0,o.kq)("",!0)],40,c)))),128))])])}var v={data(){return{profiles:[],tempProfile:{},update:{}}},methods:{getProfiles(){const t="https://vue3-course-api.hexschool.io/api/wowcowman-api/admin/articles";this.$http.get(t).then((t=>{this.profiles=t.data.articles.reverse(),this.profiles.forEach((t=>{this.getArticle(t)}))}))},getArticle(t){const e=`https://vue3-course-api.hexschool.io/api/wowcowman-api/admin/article/${t.id}`;this.$http.get(e).then((e=>{t.content=e.data.article.content}))},editfile(t){this.tempProfile={...t}},updateProfile(t){const e=`https://vue3-course-api.hexschool.io/api/wowcowman-api/admin/article/${t}`;this.$http.put(e,{data:this.tempProfile}).then((t=>{t.data.success&&(this.tempProfile={},this.getProfiles())}))}},created(){this.getProfiles()}},y=i(89);const _=(0,y.Z)(v,[["render",g],["__scopeId","data-v-417b5142"]]);var D=_}}]);
//# sourceMappingURL=966.97617d7c.js.map