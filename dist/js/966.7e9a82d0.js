"use strict";(self["webpackChunksyc"]=self["webpackChunksyc"]||[]).push([[966],{4966:function(t,e,i){i.r(e),i.d(e,{default:function(){return D}});var l=i(3396),o=i(9242),s=i(7139);const r=t=>((0,l.dD)("data-v-417b5142"),t=t(),(0,l.Cn)(),t),n={class:"container-fluid"},a={class:"container profile-wrap"},c=["onSubmit"],p={key:0,class:"mb-3"},u=r((()=>(0,l._)("h5",{for:"name",class:"form-label"},"名稱：",-1))),f={key:0},d={class:"mb-3"},h=r((()=>(0,l._)("h5",{for:"content",class:"form-label"},"內容：",-1))),m={key:0},b={class:"row"},y=["onClick"],k={key:1,class:"row"},w=r((()=>(0,l._)("button",{type:"submit",class:"btn btn-success col"},"Submit",-1)));function P(t,e,i,r,P,g){return(0,l.wg)(),(0,l.iD)("div",n,[(0,l._)("div",a,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(P.profiles,((t,i)=>((0,l.wg)(),(0,l.iD)("form",{key:i,class:"mb-5",onSubmit:(0,o.iM)((e=>g.updateProfile(t.id)),["prevent"])},[(0,l._)("h3",null,(0,s.zw)(t.title),1),"intro"===t.description?((0,l.wg)(),(0,l.iD)("div",p,[u,P.tempProfile.title!==t.title?((0,l.wg)(),(0,l.iD)("label",f,(0,s.zw)(t.author),1)):(0,l.kq)("",!0),P.tempProfile.title===t.title?(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:1,"onUpdate:modelValue":e[0]||(e[0]=t=>P.tempProfile.author=t),type:"text",class:"form-control",id:"name"},null,512)),[[o.nr,P.tempProfile.author]]):(0,l.kq)("",!0)])):(0,l.kq)("",!0),(0,l._)("div",d,[h,P.tempProfile.title!==t.title?((0,l.wg)(),(0,l.iD)("p",m,(0,s.zw)(t.content),1)):(0,l.kq)("",!0),P.tempProfile.title===t.title?(0,l.wy)(((0,l.wg)(),(0,l.iD)("textarea",{key:1,"onUpdate:modelValue":e[1]||(e[1]=t=>P.tempProfile.content=t),type:"text",class:"form-control",id:"content",style:{height:"100px"}},null,512)),[[o.nr,P.tempProfile.content]]):(0,l.kq)("",!0)]),(0,l._)("div",b,[(0,l._)("button",{type:"button",class:"btn btn-primary col mb-3",onClick:(0,o.iM)((e=>g.editfile(t)),["prevent"])}," edit ",8,y)]),P.tempProfile.title===t.title?((0,l.wg)(),(0,l.iD)("div",k,[w,(0,l._)("button",{type:"button",class:"btn btn-danger col",onClick:e[2]||(e[2]=(0,o.iM)((t=>P.tempProfile={}),["prevent"]))},"cancel")])):(0,l.kq)("",!0)],40,c)))),128))])])}var g={data(){return{profiles:[],tempProfile:{},update:{}}},methods:{getProfiles(){const t="https://vue3-course-api.hexschool.io/api/syc-api/admin/articles";this.$http.get(t).then((t=>{this.profiles=t.data.articles.reverse(),this.profiles.forEach((t=>{this.getArticle(t)}))}))},getArticle(t){const e=`https://vue3-course-api.hexschool.io/api/syc-api/admin/article/${t.id}`;this.$http.get(e).then((e=>{t.content=e.data.article.content}))},editfile(t){this.tempProfile={...t}},updateProfile(t){const e=`https://vue3-course-api.hexschool.io/api/syc-api/admin/article/${t}`;this.$http.put(e,{data:this.tempProfile}).then((t=>{t.data.success&&(this.tempProfile={},this.getProfiles())}))}},created(){this.getProfiles()}},v=i(89);const _=(0,v.Z)(g,[["render",P],["__scopeId","data-v-417b5142"]]);var D=_}}]);
//# sourceMappingURL=966.7e9a82d0.js.map